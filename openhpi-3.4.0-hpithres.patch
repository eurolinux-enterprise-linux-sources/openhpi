Index: trunk/clients/hpithres.c
===================================================================
--- trunk/clients/hpithres.c	(revision 7657)
+++ trunk/clients/hpithres.c	(working copy)
@@ -603,6 +603,9 @@
 	char		*S, *S1;
 	Com_enum_t	com;
 
+	// EOF
+	if (!Str) return(-1);
+
 	S = Str;
 	while (*S != 0) {
 		if ((*S == '\t') || (*S == '\n')) *S = ' ';
